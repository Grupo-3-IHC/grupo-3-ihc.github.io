<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="assets/styles/barrabaja.css">
  <link rel="stylesheet" href="assets/styles/stylesAD.css">
  <title>Seguridad</title>
  <style>
    :root {
      --primary-mint: #A1E3DC;
      --bg-beige: #F6F0E8;
      --text-dark: #444;
      --white: #ffffff;
      --shadow: 0 4px 6px rgba(0,0,0,0.05);
      --border-radius: 12px;
      --accent: #222;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: var(--bg-beige);
      color: var(--text-dark);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    .navbar {
      background-color: var(--primary-mint);
      padding: 1rem 2rem;
      display: flex;
      justify-content: center;
      align-items: center;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      position: sticky;
      top: 0;
      z-index: 100;
      min-height: 70px;
    }

    .nav-logo {
      font-size: 1.5rem;
      font-weight: bold;
      color: white;
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .back-arrow {
      cursor: pointer;
      font-size: 1.8rem;
      transition: transform 0.2s;
    }

    .back-arrow:hover {
      transform: scale(1.1);
    }

    .container {
      max-width: 900px;
      margin: 0 auto;
      padding: 2.5rem 1.5rem 5rem;
      width: 100%;
      flex: 1;
    }

    h1 {
      margin-bottom: 1rem;
    }

    .seg-block {
      background: var(--white);
      border-radius: var(--border-radius);
      box-shadow: var(--shadow);
      padding: 1.5rem 1.75rem;
      margin-bottom: 1.5rem;
    }

    .seg-block h3 {
      margin-bottom: 0.75rem;
    }

    .seg-block p {
      margin-bottom: 0.5rem;
      line-height: 1.4;
    }

    .seg-refresh-btn {
      margin-top: 0.75rem;
      border: none;
      border-radius: 999px;
      padding: 0.5rem 1rem;
      cursor: pointer;
      font-weight: 500;
      display: inline-flex;
      align-items: center;
      gap: 0.35rem;
      background: var(--accent);
      color: #fff;
    }

    .seg-refresh-btn:disabled {
      opacity: 0.7;
      cursor: default;
    }

    .seg-status-text {
      margin-top: 0.5rem;
      font-size: 0.9rem;
      color: #666;
    }

    .seg-status-text.checking {
      font-style: italic;
    }

    /* Toggle style tipo tarjetas */
    .seg-toggle-group {
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
      margin-top: 0.75rem;
    }

    .seg-toggle-option {
      flex: 1 1 220px;
      background: #f3f3f3;
      border-radius: 12px;
      padding: 0.9rem 1rem;
      display: flex;
      align-items: flex-start;
      gap: 0.5rem;
      cursor: pointer;
      border: 1px solid transparent;
      transition: 0.2s;
    }

    .seg-toggle-option input[type="radio"] {
      margin-top: 0.3rem;
    }

    .seg-toggle-option.active {
      border-color: var(--accent);
      background: #e9e9e9;
    }

    .seg-toggle-label {
      font-size: 0.9rem;
    }

    .seg-toggle-label strong {
      display: block;
      margin-bottom: 0.15rem;
    }

    .seg-history-list {
      list-style: none;
      margin-left: 0;
    }

    .seg-history-list li {
      margin-bottom: 0.35rem;
      font-size: 0.9rem;
    }

    @media (max-width: 768px) {
      .container {
        padding: 2rem 1rem 4rem;
      }
    }
  </style>
</head>
<body>

  <nav class="navbar">
    <div class="nav-logo">
      <span class="back-arrow" onclick="history.back()">&#8592;</span>
      Seguridad
    </div>
  </nav>

  <main class="container">
    <h1>Seguridad</h1>

    <!-- Bloque: versi√≥n actual -->
    <section class="seg-block">
      <h3>Versi√≥n actual de la aplicaci√≥n</h3>
      <p>
        <strong>Versi√≥n:</strong>
        <span id="currentVersion">v1.4.3</span>
        &nbsp;¬∑&nbsp;
        <strong>Actualizada el:</strong>
        <span id="currentVersionDate">05/12/2025</span>
      </p>

      <button id="btnRefreshVersion" class="seg-refresh-btn" type="button">
        üîÑ Verificar nueva versi√≥n
      </button>

      <p id="versionStatus" class="seg-status-text">
        La aplicaci√≥n est√° actualizada.
      </p>
    </section>

    <!-- Bloque: modo de verificaci√≥n -->
    <section class="seg-block">
      <h3>Verificaci√≥n de actualizaciones</h3>
      <p>¬øC√≥mo quieres que se revisen las nuevas versiones de la aplicaci√≥n?</p>

      <div class="seg-toggle-group">
        <label class="seg-toggle-option active" id="optionAuto">
          <input type="radio" name="modoVerificacion" id="verifAuto" checked>
          <span class="seg-toggle-label">
            <strong>Verificaci√≥n autom√°tica</strong>
            La app revisa peri√≥dicamente si hay nuevas versiones.
          </span>
        </label>

        <label class="seg-toggle-option" id="optionManual">
          <input type="radio" name="modoVerificacion" id="verifManual">
          <span class="seg-toggle-label">
            <strong>Verificaci√≥n manual</strong>
            Solo se revisa cuando t√∫ lo pides.
          </span>
        </label>
      </div>

      <p id="verifModeText" class="seg-status-text">
        Modo actual: verificaci√≥n autom√°tica.
      </p>
    </section>

    <!-- Bloque: historial -->
    <section class="seg-block">
      <h3>Historial de actualizaciones</h3>
      <ul class="seg-history-list">
        <li><strong>v1.4.3</strong> ‚Äì 05/12/2025 ¬∑ Optimizaci√≥n de rendimiento en reportes.</li>
        <li><strong>v1.4.2</strong> ‚Äì 30/11/2025 ¬∑ Mejora de la pantalla de publicaciones y comentarios.</li>
        <li><strong>v1.4.1</strong> ‚Äì 27/11/2025 ¬∑ Ajustes visuales en el mapa de incidentes.</li>
        <li><strong>v1.3.9</strong> ‚Äì 23/11/2025 ¬∑ Correcci√≥n de errores menores en notificaciones.</li>
        <li><strong>v1.3.5</strong> ‚Äì 20/11/2025 ¬∑ Primera versi√≥n con configuraci√≥n avanzada.</li>
      </ul>
    </section>
  </main>

  <div class="bottom-bar">
    <a href="dashboard.html" class="btn">
      <img src="assets/images/home.png" class="icon">
    </a>

    <a href="comunidad.html" class="btn">
      <img src="assets/images/msg.png" class="icon">
    </a>

    <a href="panicSvadm.html" class="btn alerta-btn">
      <img src="assets/images/button.png" class="icon alerta">
    </a>

    <a href="map.html" class="btn">
      <img src="assets/images/map.png" class="icon">
    </a>

    <a href="config.html" class="btn">
      <img src="assets/images/config.png" class="icon">
    </a>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const btnRefresh = document.getElementById('btnRefreshVersion');
      const versionStatus = document.getElementById('versionStatus');

      const verifAuto = document.getElementById('verifAuto');
      const verifManual = document.getElementById('verifManual');
      const optionAuto = document.getElementById('optionAuto');
      const optionManual = document.getElementById('optionManual');
      const verifModeText = document.getElementById('verifModeText');

      if (btnRefresh) {
        btnRefresh.addEventListener('click', () => {
          versionStatus.textContent = 'Buscando actualizaciones...';
          versionStatus.classList.add('checking');
          btnRefresh.disabled = true;

          // Simulaci√≥n: no cambia la versi√≥n, solo "verifica"
          setTimeout(() => {
            versionStatus.textContent = 'La aplicaci√≥n ya est√° en la √∫ltima versi√≥n disponible (v1.4.3).';
            versionStatus.classList.remove('checking');
            btnRefresh.disabled = false;
          }, 1500);
        });
      }

      function actualizarModo() {
        if (verifAuto.checked) {
          verifModeText.textContent = 'Modo actual: verificaci√≥n autom√°tica.';
          optionAuto.classList.add('active');
          optionManual.classList.remove('active');
        } else {
          verifModeText.textContent = 'Modo actual: verificaci√≥n manual.';
          optionManual.classList.add('active');
          optionAuto.classList.remove('active');
        }
      }

      if (verifAuto && verifManual) {
        verifAuto.addEventListener('change', actualizarModo);
        verifManual.addEventListener('change', actualizarModo);
        actualizarModo();
      }
    });
  </script>
</body>
</html>
